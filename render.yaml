services:
  - type: web
    name: doctor-backend
    env: docker
    plan: free
    dockerFilePath: ./Dockerfileservices:
      - type: web
          name: doctor-backend
              env: docker
                  plan: free
                      dockerfilePath: ./Dockerfile
                          envVars:
                                - key: SPRING_DATASOURCE_URL
                                        fromDatabase:
                                                  name: doctor-db
                                                            property: connectionString
                                                                  - key: SPRING_DATASOURCE_USERNAME
                                                                          fromDatabase:
                                                                                    name: doctor-db
                                                                                              property: user
                                                                                                    - key: SPRING_DATASOURCE_PASSWORD
                                                                                                            fromDatabase:
                                                                                                                      name: doctor-db
                                                                                                                                property: password
                                                                                                                                      - key: SPRING_JPA_HIBERNATE_DDL_AUTO
                                                                                                                                              value: update
                                                                                                                                              
                                                                                                                                              databases:
                                                                                                                                                - name: doctor-db
                                                                                                                                                    plan: free
                                                                                                                                                    envVars:
      - key: SPRING_DATASOURCE_URL
        fromDatabase:
          name: doctor-db
          property: connectionString
      - key: SPRING_DATASOURCE_USERNAME
        fromDatabase:
          name: doctor-db
          property: user
      - key: SPRING_DATASOURCE_PASSWORD
        fromDatabase:
          name: doctor-db
          property: password
      - key: SPRING_JPA_HIBERNATE_DDL_AUTO
        value: update

databases:
  - name: doctor-db
    plan: free
